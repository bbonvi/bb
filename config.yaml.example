task_queue_max_threads: 4

# Semantic search configuration
# Enables finding bookmarks by meaning rather than exact text matches
semantic_search:
  # Enable or disable semantic search (default: false)
  enabled: false

  # Embedding model name (default: "all-MiniLM-L6-v2")
  # Supported: all-MiniLM-L6-v2, bge-small-en-v1.5, bge-base-en-v1.5, bge-large-en-v1.5
  model: "all-MiniLM-L6-v2"

  # Default similarity threshold [0.0-1.0] (default: 0.35)
  # Higher values require closer semantic matches
  default_threshold: 0.35

  # Timeout for model download in seconds (default: 300)
  # Model (~23MB) is downloaded on first use
  download_timeout_secs: 300

  # Semantic weight for hybrid search [0.0-1.0] (default: 0.6)
  # Controls balance between semantic (embedding) and lexical (keyword) ranking
  # 0.5 = equal weight, 0.6 = favor semantic, 1.0 = pure semantic
  semantic_weight: 0.6

# URL scraping configuration
# Controls policy enforcement for metadata fetching from URLs
scrape:
  # Accept invalid TLS certificates (default: false)
  # Set to true only if you trust the network environment
  accept_invalid_certs: false

  # Allowed URL schemes (default: ["http", "https"])
  # Only URLs with these schemes will be fetched
  allowed_schemes:
    - http
    - https

  # Blocked hostnames (default: [])
  # Requests to these hosts will be rejected
  blocked_hosts: []

  # Block private/loopback IP ranges (default: true)
  # Prevents SSRF attacks by rejecting 127.0.0.1, 192.168.x.x, 10.x.x.x, etc.
  block_private_ips: true

  # Always run headless Chrome in parallel with other fetchers (default: false)
  # When false, headless only runs as a fallback when metadata is incomplete.
  # Enable for sites that heavily rely on JS rendering (e.g. SPAs).
  always_headless: false

  # Fetcher priority order (first = highest priority)
  # Remove an entry to disable that fetcher. Headless is not listed here (see always_headless).
  # Default: [oEmbed, Wayback, Plain, Microlink, Peekalink, Iframely, DDG]
  # fetcher_order:
  #   - oEmbed
  #   - Wayback
  #   - Plain
  #   - Microlink
  #   - Peekalink
  #   - Iframely
  #   - DDG

# Rules are stored separately in rules.yaml (managed automatically)
